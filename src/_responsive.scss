// ========================================
// dot-grid Responsive (Container Queries)
// ========================================

@use 'variables' as *;

@layer grid.responsive {
  // ========================================
  // Container Query Based Responsive Classes
  // ========================================
  // Modern approach: respond to container size, not viewport
  // Classes: .grid-c-{breakpoint}-{number}
  // Example: .grid-c-md-6 applies when container is >= 768px

  @each $name, $size in $breakpoints {
    @container grid (min-width: #{$size}) {
      // Column span classes (grid-c-sm-1 through grid-c-sm-12, etc.)
      @for $i from 1 through $grid-columns {
        .grid-c-#{$name}-#{$i} {
          grid-column-end: span $i;
        }
      }

      // Column start classes (grid-c-start-sm-1 through grid-c-start-sm-12, etc.)
      @for $i from 1 through $grid-columns {
        .grid-c-start-#{$name}-#{$i} {
          grid-column-start: $i;
        }
      }

      // Responsive display utilities
      .hidden-#{$name} {
        display: none;
      }

      .block-#{$name} {
        display: block;
      }

      .grid-#{$name} {
        display: grid;
      }

      .flex-#{$name} {
        display: flex;
      }
    }
  }

  // ========================================
  // Viewport-based fallback/alternative
  // ========================================
  // For cases where viewport size is more relevant than container size
  // Classes: .grid-c-vp-{breakpoint}-{number}
  // Example: .grid-c-vp-md-6 applies when viewport is >= 768px

  @each $name, $size in $breakpoints {
    @media (min-width: $size) {
      // Viewport-based column span
      @for $i from 1 through $grid-columns {
        .grid-c-vp-#{$name}-#{$i} {
          grid-column-end: span $i;
        }
      }

      // Viewport-based column start
      @for $i from 1 through $grid-columns {
        .grid-c-start-vp-#{$name}-#{$i} {
          grid-column-start: $i;
        }
      }

      // Viewport-based display utilities
      .hidden-vp-#{$name} {
        display: none;
      }

      .block-vp-#{$name} {
        display: block;
      }

      .grid-vp-#{$name} {
        display: grid;
      }

      .flex-vp-#{$name} {
        display: flex;
      }
    }
  }
}
